document.addEventListener("DOMContentLoaded",(function(){function e(e){switch(e){case"Jan":return"01";case"Feb":return"02";case"Mar":return"03";case"Apr":return"04";case"May":return"05";case"Jun":return"06";case"Jul":return"07";case"Aug":return"08";case"Sep":return"09";case"Oct":return"10";case"Nov":return"11";case"Dec":return"12"}}const t=document.querySelectorAll(".faq__item-heading"),n=document.querySelector(".hamburger__inner"),r=document.querySelector(".hamburger"),o=document.querySelector(".header__menu"),l=(document.querySelectorAll("input[type='range']"),document.getElementById("nights")),a=document.getElementById("participants"),s=document.querySelector(".overlay"),i=(document.querySelector(".go-top__inner"),document.querySelector(".go-top__inner"),document.querySelector(".filters")),c=document.querySelector(".filters__heading"),u=document.querySelector(".filters__content"),d=document.querySelector(".sort"),m=document.querySelectorAll(".fa-plus"),g=document.querySelectorAll(".fa-minus"),y=document.querySelector(".filters__submit"),v=document.querySelector(".find-tour__form-submit");if(null!==m)for(let e=0;e<m.length;e++)m[e].addEventListener("click",(function(t){m[e].nextElementSibling.value=(+m[e].nextElementSibling.value+1).toString()})),g[e].addEventListener("click",(function(t){g[e].previousElementSibling.value=(+g[e].previousElementSibling.value-1).toString()}));null!==d&&d.addEventListener("click",(function(e){if(e.target===d.querySelector(".sort__heading"))d.querySelector(".sort__heading").classList.toggle("sort__heading--active"),d.querySelector(".sort__list").classList.toggle("dropdown--active");else if(e.target.classList.contains("dropdown__item")){d.querySelector(".sort__heading").innerHTML=e.target.textContent;for(const e of document.querySelectorAll(".dropdown__item"))e.classList.remove("dropdown__item--active");e.target.classList.add("dropdown__item--active"),d.querySelector(".sort__list").classList.toggle("dropdown--active"),d.querySelector(".sort__heading").classList.toggle("sort__heading--active")}if("LI"===e.target.tagName){let t=window.location.href;console.log(t),t.includes("&sort")&&(console.log(123),t=t.replaceAll(/&sort=[^&]+/g,"")),console.log(`${t}&sort=${e.target.dataset.sort}`),window.location.replace(`${t}&sort=${e.target.dataset.sort}`)}}));const h=document.getElementById("departure-date");if(null!==h){const e=new HotelDatepicker(h,{format:"D MMM",autoClose:!1,i18n:{selected:"Вы выбрали:",night:"Ночь",nights:"Ночей",button:"Закрыть","checkin-disabled":"Check-in disabled","checkout-disabled":"Check-out disabled","day-names-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"day-names":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"month-names-short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"month-names":["January","February","March","April","May","June","July","August","September","October","November","December"],"error-more":"Date range should not be more than 1 night","error-more-plural":"Date range should not be more than %d nights","error-less":"Date range should not be less than 1 night","error-less-plural":"Date range should not be less than %d nights","info-more":"Выберите даты желаемого вылета","info-more-plural":"Выберите даты желаемого вылета","info-range":"Выберите даты желаемого вылета","info-default":"Выберите даты желаемого вылета"}});h.addEventListener("click",(function(){h.value="",e.open()}))}if(null!==i){l.addEventListener("input",(function(){this.parentElement.querySelector(".filters__item-content").innerHTML=this.value})),a.addEventListener("input",(function(){this.parentElement.querySelector(".filters__item-content").innerHTML=this.value})),c.addEventListener("click",(function(){window.scrollTo(0,0),s.classList.toggle("overlay--show"),document.body.classList.toggle("body--scroll-lock"),n.classList.toggle("hamburger--animate"),u.classList.toggle("filters__content--active")}));document.querySelector(".wrap").addEventListener("input",e=>{let t=e.target;t.parentNode.style.setProperty("--"+t.id,+t.value)},!1),y.addEventListener("click",(function(t){t.preventDefault();const n=document.getElementById("country"),r=document.getElementById("city"),o=getComputedStyle(document.querySelector(".wrap"));let s=y.getAttribute("href"),i=document.getElementById("rate").querySelector("input:checked");null===i&&(i=0),console.log(h.value);let[c,u]=h.value.split(" - "),[d,m]=c.split(" "),[g,v]=u.split(" ");-1!==s.indexOf("?")&&(s=s.substring(0,s.indexOf("?")));let _=`country=${n.value}&city=${r.value}&rate=${i.value}&date=${d+e(m)}-${g+e(v)}&nights=${l.value}&participants=${a.value}&price_from=${o.getPropertyValue("--a").trim()}&price_to=${o.getPropertyValue("--b").trim()}`;window.location.replace(`${s}?${_}`)}))}null!==v&&v.addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("city"),n=document.getElementById("departure-date"),r=document.getElementById("nights"),o=document.getElementById("participants");let l=v.getAttribute("href");console.log(l),-1!==l.indexOf("?")&&(l=l.substring(0,l.indexOf("?")));let a=`city=${t.value}&date=${n.value}&nights=${r.value}&participants=${o.value}`;window.location.replace(`${l}/find-tour.html?${a}`)}));const _=document.querySelector(".add-review__text");null!==_&&_.addEventListener("input",()=>{_.style.height="5px",_.style.height=_.scrollHeight+"px"}),r.addEventListener("click",()=>{window.scrollTo(0,0),n.classList.contains("hamburger--animate")?(o.classList.remove("header__menu--active"),s.classList.remove("overlay--show"),document.body.classList.remove("body--scroll-lock"),n.classList.remove("hamburger--animate")):(o.classList.add("header__menu--active"),s.classList.add("overlay--show"),document.body.classList.add("body--scroll-lock"),n.classList.add("hamburger--animate")),null!==i&&u.classList.contains("filters__content--active")&&u.classList.remove("filters__content--active")}),document.querySelector(".overlay").addEventListener("click",(function(){o.classList.remove("header__menu--active"),s.classList.remove("overlay--show"),document.body.classList.remove("body--scroll-lock"),n.classList.remove("hamburger--animate"),null!==i&&u.classList.contains("filters__content--active")&&u.classList.remove("filters__content--active")}));for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(){this.classList.toggle("faq__item-heading--active");let e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}))}));